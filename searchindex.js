Search.setIndex({"docnames": ["README", "classification", "clustering", "get_embeddings"], "filenames": ["README.md", "classification.ipynb", "clustering.ipynb", "get_embeddings.ipynb"], "titles": ["Qualitative research with LLMs", "Classification (sentiment)", "Clustering", "1. Load the dataset"], "terms": {"thi": [1, 3], "script": 1, "demonstr": [1, 2], "how": [1, 2], "free": 1, "text": [1, 3], "survei": [1, 3], "accord": 1, "pre": 1, "defin": 1, "categori": [1, 2], "case": [1, 2], "posit": 1, "neutral": 1, "neg": [1, 2], "The": [1, 2, 3], "take": [1, 2, 3], "csv": [1, 2, 3], "one": [1, 2], "row": 1, "per": [1, 3], "particip": 1, "ask": 1, "larg": 1, "languag": [1, 2], "model": [1, 3], "llm": 1, "each": [1, 2], "zero": 1, "shot": 1, "without": 1, "ani": 1, "train": 1, "import": [1, 2, 3], "panda": [1, 2, 3], "pd": [1, 2, 3], "lib": [1, 2], "from": [1, 2, 3], "tqdm": 1, "matplotlib": [1, 2, 3], "pyplot": [1, 2], "plt": [1, 2], "input_datapath": [1, 3], "gambling_feedback_data": [1, 3], "index_col": [1, 3], "none": [1, 3], "text_col": 1, "feedback": [1, 3], "survey_question_ful": 1, "do": [1, 2], "you": [1, 2, 3], "have": [1, 2, 3], "other": [1, 2], "design": 1, "gambl": 1, "manag": 1, "tool": 1, "category_opt": 1, "variabl": 1, "abov": 1, "can": [1, 2], "customis": 1, "contain": 1, "For": [1, 2], "exampl": [1, 3], "could": [1, 2], "chang": [1, 2], "mention": 1, "pothol": 1, "doe": 1, "file": 1, "py": [1, 2, 3], "method": 1, "which": [1, 2], "construct": 1, "prompt": [1, 2], "particular": 1, "let": [1, 2], "s": [1, 2], "see": [1, 2], "what": [1, 2], "look": 1, "like": 1, "an": 1, "question": [1, 2, 3], "answer": [1, 2], "label": [1, 2], "get_classification_prompt": 1, "why": 1, "sky": 1, "blue": [1, 2], "becaus": [1, 2], "beauti": 1, "dai": 1, "todai": 1, "print": [1, 2, 3], "here": [1, 2], "q": 1, "A": [1, 2], "pleas": 1, "follow": 1, "option": 1, "b": 1, "c": 1, "respond": 1, "directli": 1, "noth": 1, "els": [1, 3], "e": 1, "g": 1, "note": [1, 2], "consid": 1, "end": [1, 2], "bia": 1, "ai": 1, "toward": 1, "first": [1, 3], "df": [1, 2, 3], "read_csv": [1, 2, 3], "header": [1, 3], "dropna": [1, 3], "applymap": [1, 3], "lambda": [1, 3], "x": [1, 2, 3], "strip": [1, 3], "isinst": [1, 3], "str": [1, 2, 3], "shape": [1, 2], "head": [1, 3], "2164": 1, "4": [1, 2, 3], "var": [1, 3], "folder": [1, 3], "4c": [1, 3], "5kctcgk55539047v8xy3clj80000gn": [1, 3], "t": [1, 2, 3], "ipykernel_4443": 1, "3445066923": 1, "5": [1, 2], "futurewarn": [1, 2, 3], "datafram": [1, 3], "ha": [1, 3], "been": [1, 3], "deprec": [1, 3], "us": [1, 3], "map": [1, 3], "instead": [1, 2, 3], "treatment": [1, 3], "limit_on": [1, 3], "block_on": [1, 3], "0": [1, 2, 3], "good": [1, 3], "1": 1, "wa": [1, 3], "help": [1, 2, 3], "2": 1, "easi": 1, "app": 1, "3": [1, 2], "i": [1, 2], "found": 1, "brilluant": 1, "im": 1, "nit": 1, "huge": 1, "gamala": 1, "bu": 1, "too": [1, 2, 3], "person": 1, "gamblin": 1, "best": [1, 2], "part": 1, "hour": 1, "2000": 1, "your": [1, 2, 3], "openai": [1, 2, 3], "account": 1, "mai": [1, 2, 3], "need": [1, 2, 3], "activ": 1, "certain": 1, "number": [1, 2], "spent": 1, "amount": [1, 2], "monei": 1, "work": 1, "category_index": 1, "progress_appli": 1, "classify_answ": 1, "to_csv": [1, 3], "f": [1, 2, 3], "split": [1, 3], "_with_categori": 1, "00": 1, "100": [1, 2], "50": 1, "53": 1, "41": 1, "def": [1, 3], "plot_categori": 1, "num_sampl": 1, "count": 1, "value_count": 1, "fig": 1, "ax": 1, "subplot": 1, "pie": 1, "valu": [1, 2], "index": 1, "autopct": 1, "1f": 1, "set_titl": 1, "sampl": [1, 3], "show": [1, 2], "num_samples_by_treat": 1, "min_treat": 1, "min": 1, "max_treat": 1, "max": 1, "rang": [1, 2], "we": 2, "simpl": 2, "algorithm": 2, "done": 2, "discov": 2, "valuabl": 2, "hidden": 2, "group": 2, "within": 2, "data": [2, 3], "dataset": 2, "creat": [2, 3], "obtain_dataset": 2, "notebook": [2, 3], "numpi": 2, "np": 2, "ast": 2, "literal_ev": 2, "load": 2, "datafile_path": 2, "english_free_text_with_embeddings_1k": 2, "whyproblemsoc": [2, 3], "convert": 2, "string": 2, "arrai": 2, "embed": 2, "appli": [2, 3], "onli": 2, "more": 2, "than": [2, 3], "charact": 2, "len": [2, 3], "20": 2, "matrix": 2, "vstack": 2, "119": 2, "1536": 2, "simplest": 2, "pick": 2, "fit": 2, "sklearn": 2, "kmean": 2, "n_cluster": 2, "init": 2, "random_st": 2, "42": 2, "labels_": 2, "opt": 2, "homebrew": 2, "python3": 2, "10": 2, "site": 2, "packag": 2, "_kmean": 2, "870": 2, "default": 2, "n_init": 2, "auto": 2, "set": [2, 3], "explicitli": 2, "suppress": 2, "warn": 2, "manifold": 2, "tsne": 2, "n_compon": 2, "perplex": 2, "15": 2, "random": 2, "learning_r": 2, "200": 2, "vis_dims2": 2, "fit_transform": 2, "y": 2, "color": 2, "enumer": 2, "purpl": 2, "green": 2, "red": 2, "xs": 2, "ys": 2, "scatter": 2, "alpha": 2, "avg_x": 2, "avg_i": 2, "marker": 2, "titl": 2, "identifi": 2, "visual": 2, "2d": 2, "sne": 2, "project": 2, "few": [2, 3], "ll": 2, "davinci": 2, "003": 2, "base": 2, "review": [2, 3], "read": 2, "belong": 2, "rev_per_clust": 2, "theme": 2, "n": 2, "join": 2, "loc": [2, 3], "respons": [2, 3], "complet": 2, "engin": 2, "ar": [2, 3], "some": 2, "reason": 2, "think": 2, "food": [2, 3], "loss": 2, "wast": [2, 3], "problem": 2, "nanswer": 2, "nwhat": 2, "common": 2, "ntheme": 2, "temperatur": 2, "max_token": [2, 3], "64": 2, "top_p": 2, "frequency_penalti": 2, "presence_penalti": 2, "choic": 2, "replac": 2, "sample_cluster_row": 2, "j": 2, "iloc": [2, 3], "excess": 2, "being": 2, "bcoz": 2, "peopl": 2, "order": 2, "much": 2, "thei": 2, "finish": 2, "cook": 2, "veri": 2, "less": [2, 3], "over": 2, "bui": 2, "surplu": 2, "quantiti": 2, "enough": 2, "poepl": 2, "don": 2, "eat": 2, "leftov": 2, "again": 2, "consequ": 2, "who": 2, "lack": 2, "access": 2, "well": 2, "lot": 2, "all": 2, "wold": 2, "crisi": 2, "save": 2, "purchas": 2, "usual": 2, "anywher": 2, "small": 2, "budget": 2, "abl": 2, "depend": 2, "Its": 2, "caus": 2, "tnhe": 2, "poverti": 2, "impact": 2, "global": 2, "hunger": 2, "environ": [2, 3], "resourc": 2, "One": 2, "nine": 2, "world": 2, "make": 2, "harder": 2, "feed": 2, "everyon": 2, "especi": 2, "develop": 2, "countri": 2, "product": 2, "major": 2, "contributor": 2, "climat": 2, "water": 2, "pollut": 2, "deforest": 2, "while": 2, "third": 2, "produc": 2, "lost": 2, "reduc": 2, "million": 2, "It": 2, "includ": 2, "land": 2, "energi": 2, "labor": 2, "costli": 2, "estim": 2, "econom": 2, "cost": 2, "environment": 2, "societ": 2, "effect": 2, "hous": 2, "around": 2, "suffer": 2, "properti": 2, "bad": 2, "warm": 2, "affect": 2, "societi": 2, "whole": 2, "poor": 2, "should": 2, "benefit": 2, "becom": 2, "detriment": 2, "educ": 2, "implement": 2, "rule": 2, "so": 2, "lead": 2, "wastag": 2, "harm": 2, "mani": 2, "wai": 2, "also": 2, "yhe": 2, "know": 2, "even": 2, "though": 2, "effort": 2, "uae": 2, "forward": 2, "when": 2, "store": 2, "handl": 2, "properli": 2, "contamin": 2, "bacteria": 2, "microorgan": 2, "throw": 2, "awai": 2, "necessarili": 2, "match": 2, "intend": 2, "them": 2, "larger": 2, "focu": 2, "specif": 2, "pattern": 2, "wherea": 2, "largest": 2, "discrep": 2, "dure": 3, "ramadan": 3, "provid": 3, "jordan": 3, "w": 3, "m": 3, "To": 3, "run": 3, "instal": 3, "transform": 3, "plotli": 3, "scikit": 3, "learn": 3, "torch": 3, "dep": 3, "torchvis": 3, "scipi": 3, "client": 3, "get_embed": 3, "input": 3, "ada": 3, "002": 3, "return": 3, "english_free_text": 3, "whyramless": 3, "whycompmor": 3, "encourag": 3, "cols_to_emb": 3, "embedding_encod": 3, "cl100k_base": 3, "encod": 3, "8000": 3, "maximum": 3, "8191": 3, "inspect": 3, "ipykernel_91074": 3, "3179908913": 3, "6": 3, "subsampl": 3, "1k": 3, "most": 3, "recent": 3, "remov": 3, "long": 3, "top_n": 3, "1000": 3, "cut": 3, "2k": 3, "entri": 3, "assum": 3, "half": 3, "filter": 3, "out": 3, "tail": 3, "tiktoken": 3, "get_encod": 3, "questionid": 3, "omit": 3, "emb": 3, "n_token": 3, "ensur": 3, "api": 3, "kei": 3, "readm": 3, "http": 3, "github": 3, "com": 3, "python": 3, "usag": 3, "minut": 3, "col": 3, "column": 3, "_with_embed": 3}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"qualit": 0, "research": 0, "llm": 0, "count": 0, "token": 0, "get": [0, 3], "embed": [0, 3], "cluster": [0, 2], "text": [0, 2], "sampl": [0, 2], "classif": 1, "sentiment": 1, "load": [1, 3], "data": 1, "classifi": 1, "everi": 1, "respons": 1, "plot": 1, "result": 1, "1": [2, 3], "find": 2, "us": 2, "k": 2, "mean": 2, "2": [2, 3], "name": 2, "dataset": 3, "save": 3, "them": 3, "futur": 3, "reus": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})